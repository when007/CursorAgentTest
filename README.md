# A股股票分析与策略对比系统

一个专业的A股股票分析系统，支持多种投资策略对比和投资建议生成。

## 🎯 功能特色

### 核心功能
1. **股票数据获取** - 通过Tushare API获取A股历史K线数据
2. **多周期K线展示** - 支持1分钟、5分钟、日线、周线、月线、年线
3. **5种投资策略** - 趋势跟踪、均值回归、动量、亏损就翻倍、网格交易
4. **策略对比分析** - 全面比较不同策略的收益表现
5. **投资建议生成** - 基于策略分析提供专业投资建议

### 技术指标
- 移动平均线 (MA5, MA10, MA20, MA60)
- RSI (相对强弱指标)
- MACD (指数平滑异同移动平均线)
- 布林带 (Bollinger Bands)
- 成交量指标

### 性能评估
- 年化收益率
- 最大回撤
- 夏普比率
- 索提诺比率
- 胜率
- 卡玛比率

## 🚀 快速开始

### 环境要求
- Python 3.8+
- 足够的内存和存储空间

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd stock-analysis-system
```

2. **创建虚拟环境**
```bash
uv venv
source .venv/bin/activate  # Linux/Mac
.venv\Scripts\activate     # Windows
```

3. **安装依赖**
```bash
uv pip install -r requirements.txt
```

4. **运行应用**
```bash
streamlit run app.py
```

### 获取Tushare Token (可选)

1. 访问 [Tushare官网](https://tushare.pro/)
2. 注册账户并获取API Token
3. 在应用侧边栏输入Token以获得完整数据访问权限

## 📊 使用说明

### 基本操作
1. 在侧边栏输入股票代码或名称（如：600519 或 茅台）
2. 选择分析时间范围（默认：过去1年）
3. 设置初始投资资金
4. 点击"开始分析"查看结果

### 策略说明

#### 🔄 趋势跟踪策略
- **原理**：基于双均线交叉系统
- **买入信号**：短期均线上穿长期均线（金叉）
- **卖出信号**：短期均线下穿长期均线（死叉）
- **适用场景**：明显的上升趋势市场

#### 📊 均值回归策略
- **原理**：价格偏离均值时回归
- **买入信号**：价格低于均线2个标准差
- **卖出信号**：价格高于均线2个标准差
- **适用场景**：震荡行情

#### ⚡ 动量策略
- **原理**：价格变化速率交易
- **买入信号**：10日收益率超过2%
- **卖出信号**：10日收益率低于-2%
- **适用场景**：有明显趋势的市场

#### 🎯 亏损就翻倍策略
- **原理**：马丁格尔策略
- **机制**：亏损后加倍仓位
- **风险**：高风险策略
- **适用场景**：经验丰富的投资者

#### 📐 网格交易策略
- **原理**：价格区间网格交易
- **机制**：在指定价格区间内进行低买高卖
- **适用场景**：震荡行情，适合ETF等标的

### 结果解读

#### 投资建议系统
- **综合评分**：0-100分，反映整体投资机会
- **投资建议**：强烈推荐/推荐/中性/谨慎/不推荐
- **置信度**：高/中/低，反映策略一致性

#### 风险因素
- **高风险警告**：最大回撤超过20%
- **中等风险**：波动率超过30%
- **一般风险**：平均收益为负

#### 策略对比
- **总收益率**：整个分析期间的收益
- **年化收益率**：年化的收益水平
- **最大回撤**：最大亏损幅度
- **夏普比率**：风险调整后收益
- **胜率**：盈利交易的比例

## 🔧 技术架构

### 后端技术栈
- **Streamlit**：Web应用框架
- **Pandas**：数据处理和分析
- **NumPy**：数值计算
- **Tushare**：金融数据API
- **ECharts**：数据可视化

### 前端技术
- **HTML/CSS/JavaScript**
- **ECharts**：图表库
- **Streamlit Components**：交互组件

### 数据处理
- **K线数据**：开盘价、最高价、最低价、收盘价、成交量
- **技术指标**：移动平均线、RSI、MACD、布林带
- **策略回测**：模拟交易、收益计算

## 📁 项目结构

```
stock-analysis-system/
├── app.py                 # Streamlit主应用
├── data_fetcher.py        # 数据获取模块
├── strategies.py          # 投资策略模块
├── strategy_analyzer.py   # 策略分析模块
├── visualizer.py          # 可视化模块
├── utils.py               # 工具函数
├── requirements.txt       # 依赖包列表
└── README.md              # 项目说明
```

## 🛠️ 开发说明

### 代码风格
- 使用Python PEP 8编码规范
- 函数和类有完整的文档字符串
- 代码注释使用英文

### 错误处理
- 包含完整的异常处理机制
- 提供用户友好的错误信息
- 详细的日志记录

### 性能优化
- 数据缓存机制
- 并行处理支持
- 内存使用优化

## ⚠️ 风险提示

### 免责声明
本系统仅供教育和研究使用，不构成投资建议。投资有风险，决策需谨慎。

### 重要提醒
1. **模拟数据**：演示模式使用模拟数据，不代表实际市场表现
2. **策略风险**：不同策略适用于不同市场条件，需谨慎选择
3. **数据依赖**：数据质量直接影响分析结果
4. **历史表现**：历史业绩不代表未来表现

## 📞 技术支持

### 常见问题
1. **API Token获取**：访问Tushare官网注册获取
2. **数据获取失败**：检查网络连接和API Token
3. **策略表现不佳**：尝试调整参数选择不同策略
4. **图表显示问题**：确保浏览器支持JavaScript

### 联系方式
- 项目Issues：[GitHub Issues](链接)
- 技术文档：[Wiki](链接)

## 📄 许可证

本项目采用MIT许可证，详见 [LICENSE](LICENSE) 文件。

## 🙏 致谢

- Tushare团队提供的金融数据API
- Streamlit团队优秀的Web应用框架
- 所有为开源金融工具做出贡献的开发者

---

**注意**：投资有风险，入市需谨慎。本系统仅供学习和研究使用，不构成任何投资建议。